AddCSLuaFile()
 
local name = "FLDCSO Whelen Freedom Micro"
 
local COMPONENT = {}
 
COMPONENT.Model = "models/noble/whelen_ultrafreedommicro/ultrafreedommicro_lightbar.mdl"
COMPONENT.Skin = 0
COMPONENT.Bodygroups = {}
COMPONENT.UsePhases = true
COMPONENT.DefaultColors = {
    [1] = "BLUE",
    [2] = "WHITE",
    [3] = "AMBER"
}
 
COMPONENT.Meta = {

    whelen_side = {
        AngleOffset = -90,
        W = 5.45,
        H = 3.9,
        Sprite = "sprites/emv/whelen_freedom_main",
        Scale = 1.1
    }
}
 
COMPONENT.Positions = {
    [1] = { Vector( 2.9, 1.39, 4.5 ), Angle( 0, -30, 0 ), "whelen_side" },
    [2] = { Vector( -2.2, 1.45, 4.5 ), Angle( 0, 30, 0 ), "whelen_side" },
    [3] = { Vector( 2.9, 1.39, 2.7 ), Angle( 0, -30, 0 ), "whelen_side" },
    [4] = { Vector( -2.2, 1.45, 2.7 ), Angle( 0, 30, 0 ), "whelen_side" },

    [5] = { Vector( 2.8, -2.5, 4.5 ), Angle( 0, 210, 0 ), "whelen_side" },
    [6] = { Vector( -2.2, -2.5, 4.5 ), Angle( 0, 150, 0 ), "whelen_side" },
    [7] = { Vector( 2.8, -2.5, 2.7 ), Angle( 0, 210, 0 ), "whelen_side" },
    [8] = { Vector( -2.2, -2.5, 2.7 ), Angle( 0, 150, 0 ), "whelen_side" },

}
 
COMPONENT.Sections = {
    ["auto_whelen_freedom_micro"] = {
        [1] = { 
            { 1, "_1"}, { 3, "_1"}, { 6, "_1"}, { 8, "_1"},
        },
        [2] = {
            { 2, "_2"}, { 4, "_2"}, { 5, "_2"}, { 7, "_2"},
        },
        [3] = {
            { 1, "_1"}, { 2 , "_1"}, { 3, "_1"}, { 4 , "_1"},
            { 5, "_1"}, { 6 , "_1"}, { 7, "_1"}, { 8 , "_1"}
        },
        [4] = {
            { 1, "_3"}, { 2 , "_3"}, { 3, "_3"}, { 4 , "_3"},
            { 5, "_3"}, { 6 , "_3"}, { 7, "_3"}, { 8 , "_3"}
        },
        [5] = { 
            { 1, "_2"}, { 3, "_2"}, { 6, "_2"}, { 8, "_2"},
        },
        [6] = {
            { 2, "_1"}, { 4, "_1"}, { 5, "_1"}, { 7, "_1"},
        }
    },
}
 
COMPONENT.Patterns = {
    ["auto_whelen_freedom_micro"] = {
        ["code1"] = { 1, 1, 1, 2, 2, 2 },
        ["code2"] = { 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0 },
        ["code3"] = { 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0, 1, 0, 1, 0, 1, 0, 
                      2, 0, 2, 0, 2, 0, 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0,
                      1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0, 0, 3, 3, 0, 0, 3, 3, 
                      0, 0, 3, 3, 0, 0, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0},
        ["code1A"] = { 1, 1, 1, 2, 2, 2 },
        ["code2A"] = { 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0 },
        ["code3A"] = { 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0, 1, 0, 1, 0, 1, 0, 
                      2, 0, 2, 0, 2, 0, 1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0,
                      1, 0, 1, 0, 1, 0, 2, 0, 2, 0, 2, 0, 0, 3, 3, 0, 0, 3, 3, 
                      0, 0, 3, 3, 0, 0, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0},
        ["code1B"] = { 6, 6, 6, 5, 5, 5 },
        ["code2B"] = { 6, 0, 6, 0, 6, 0, 5, 0, 5, 0, 5, 0 },
        ["code3B"] = { 6, 0, 6, 0, 6, 0, 5, 0, 5, 0, 5, 0, 6, 0, 6, 0, 6, 0, 
                      5, 0, 5, 0, 5, 0, 6, 0, 6, 0, 6, 0, 5, 0, 5, 0, 5, 0,
                      6, 0, 6, 0, 6, 0, 5, 0, 5, 0, 5, 0, 0, 3, 3, 0, 0, 3, 3, 
                      0, 0, 3, 3, 0, 0, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0},
        ["code1TTA"] = { 0, 0, 0, 4, 4, 4 },
        ["code2TTA"] = { 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4,
                        0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 4, 4, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 4, 4, 0,
                        0, 0, 0, 0, 0, 0, 4, 4, 0, 4, 4, 0, 4, 4, 0, 4, 4, 0, 4, 4, 0},
        ["code3TTA"] = { 0, 0, 0, 4, 4, 4, 0, 0, 0, 4, 4, 4, 0, 0, 0, 4, 4, 4,
                        0, 0, 0, 4, 4, 4, 0, 0, 0, 0, 4, 0, 4, 0, 0, 0, 0, 0, 4, 0, 4, 0,
                        0, 0, 0, 0, 4, 0, 4, 0, 4, 0, 4, 0, 4, 0},
        ["code1TTB"] = { 4, 4, 4, 0, 0, 0 },
        ["code2TTB"] = { 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0,
                        4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 4, 4, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0,
                        4, 4, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 4, 4, 0, 4, 4, 0},
        ["code3TTB"] = { 4, 4, 4, 0, 0, 0, 4, 4, 4, 0, 0, 0, 4, 4, 4, 0, 0, 0,
                        4, 4, 4, 0, 0, 0, 4, 0, 4, 0, 0, 0, 0, 0, 4, 0, 4, 0, 0, 0, 0, 0,
                        4, 0, 4, 0, 0, 0, 0, 0, 4, 0, 4, 0, 4, 0},
    },
}
 
COMPONENT.TrafficDisconnect = {}
 
COMPONENT.Modes = {
    Primary = {
        M1 = {
            ["auto_whelen_freedom_micro"] = "code1",
        },
        M2 = {
            ["auto_whelen_freedom_micro"] = "code2",
        },
        M3 = {
            ["auto_whelen_freedom_micro"] = "code3",
        }
    },
    Auxiliary = {
        L = {

        },
        R = {

        },
        D = {

        }
    }
}
 
EMVU:AddAutoComponent( COMPONENT, name )